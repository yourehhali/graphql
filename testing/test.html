<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <title>SVG Bar Chart with Tooltip</title>

  <link rel="stylesheet" href="style.css">

  <style>
    :root {
      --chart-1: #FFDE26;

      --card: hsl(0 0% 100%);
      --card-foreground: hsl(222.2 47.4% 11.2%);
      font-size: 12px;
      --tooltip-bg: rgba(0, 0, 0, 0.85);
      --chart-succeeded: #FFDE26;
      --chart-failed: #FFB326;
      --tooltip-fg: white;
      --line: #e5e7eb;
      --text: black;
      --text-muted: gray;
      --body-bg: white;
      --card-border-color: #FFFFFF90;
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    .dark {
      --card: #171717;
      --card-foreground: hsl(210 40% 98%);

      --tooltip-bg: rgba(255, 255, 255, 0.85);
      --tooltip-fg: black;
      --line: #1D1D1D;
      --text: white;
      --text-muted: lightgray;
      --body-bg: black;
      --card-border-color: #2c2c2c90;
    }

    body {
      background-color: var(--body-bg);
    }

    .card {
      background: var(--card);
      color: var(--card-foreground);
      display: flex;
      flex-direction: column;
      gap: 30px;
      justify-content: space-between;
      padding: 20px;
      border-radius: 12px;
      border: 1px solid var(--card-border-color);
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
      font-family: Arial, sans-serif;
    }

    .tooltip {
      position: fixed;
      padding: 6px 10px;
      font-size: 13px;
      border-radius: 6px;
      background: var(--tooltip-bg);
      color: var(--tooltip-fg);
      pointer-events: none;
      opacity: 0;
      transform: translate(-50%, -100%);
      transition: opacity 0.12s ease-out;
      white-space: nowrap;
      z-index: 10;
    }
    .graphList {
      display: flex;
      flex-wrap: wrap;
      justify-content: space-between;
      flex-direction: row;
      gap: 20px;
      max-width: 80svw;
      margin: auto;
    }
    .graphList *:not(#radial-chart svg){
      flex-grow: 1;
    }
  
    #radial-chart svg{
      max-width: 300px;
    }
  </style>
</head>

<body class="dark">
  <header>
    <div class="leftSide">
      <div class="logo">
        <img src="logo.png" alt="logo">
      </div>
      <div class="nav">
        <nav>
          <ul>
            <li class="navItem">Home</li>
            <li class="navItem">Kanban</li>
            <li class="navItem">Projects</li>
            <li class="navItem">Skills</li>
            <li class="navItem">Groups</li>
          </ul>
        </nav>
      </div>
    </div>
    <div class="actions">
      <div class="viewProfile">
        <img src="" alt="Avatar" class="avatar">
      </div>
      <div class="logout">
        <button>
          Logout
        </button>
      </div>
    </div>
  </header>
  <main>
    <div id="tooltip" class="tooltip"></div>
    <div class="graphList">
      <div class="card">
        <div class="cardHeader">
          <h2>Projects XP</h2>
          <p>Experience points earned per project</p>
        </div>
        
        <div id="chart-container"></div>

        <div style="margin-top: 16px; font-size: 14px;">
          Trending up by 5.2% this project ⬆️ <br />
          <span style="color: gray">Showing total visitors for last 6 projects</span>
        </div>
      </div>
      <div class="card">
        <div class="cardHeader">
          <h2>Projects XP</h2>
          <p>Experience points earned per project</p>
        </div>
        
        <div id="chart-container"></div>

        <div style="margin-top: 16px; font-size: 14px;">
          Trending up by 5.2% this project ⬆️ <br />
          <span style="color: gray">Showing total visitors for last 6 projects</span>
        </div>
      </div>
      <div class="card">
        <div class="cardHeader">
          <h2>Projects XP</h2>
          <p>Experience points earned per project</p>
        </div>
        
        <div id="chart-container"></div>

        <div style="margin-top: 16px; font-size: 14px;">
          Trending up by 5.2% this project ⬆️ <br />
          <span style="color: gray">Showing total visitors for last 6 projects</span>
        </div>
      </div>
      <div class="card">
        <div class="cardHeader">
          <h2>Projects XP</h2>
          <p>Experience points earned per project</p>
        </div>
        
        <div id="chart-container"></div>

        <div style="margin-top: 16px; font-size: 14px;">
          Trending up by 5.2% this project ⬆️ <br />
          <span style="color: gray">Showing total visitors for last 6 projects</span>
        </div>
      </div>
      <div class="card">
        <div class="cardHeader">
          <h2>Projects XP</h2>
          <p>Experience points earned per project</p>
        </div>

        <div id="chart-container"></div>

        <div style="margin-top: 16px; font-size: 14px;">
          Trending up by 5.2% this project ⬆️ <br />
          <span style="color: gray">Showing total visitors for last 6 projects</span>
        </div>
      </div>
      
      <div class="card">
        <div class="cardHeader">
          <h2>Audit Data</h2>
          <p>Audit ratio succeeded/failed</p>
        </div>

        <div id="radial-chart"></div>


        <div style="margin-top: 16px; font-size: 14px;">
          Trending up by 5.2% this project ⬆️ <br />
          <span style="color: gray">Showing total visitors for last 6 projects</span>
        </div>
      </div>

    </div>
  </main>


  <script>
    const data = [
      { project: "groupie-tracker", xp: 20 },
      { project: "net-cat", xp: 24 },
      { project: "lem-in", xp: 50 },
      { project: "forum", xp: 70 },
      { project: "make-your-game", xp: 110 },
      { project: "make-your-game", xp: 150 },
    ];

    const width = 300;
    const height = 200;
    const padding = 25;

    const maxValue = Math.max(...data.map(d => d.xp));
    const barWidth = (width - padding * 2) / data.length - 10;

    const svgNS = "http://www.w3.org/2000/svg";
    const svg = document.createElementNS(svgNS, "svg");
    svg.setAttribute("width", width);
    svg.setAttribute("height", height);
    svg.style.background = "var(--card)";
    svg.style.borderRadius = "12px";

    const tooltip = document.getElementById("tooltip");

    [0.25, 0.5, 0.75, 1].forEach(p => {
      const y = height - padding - (height - padding * 2) * p;
      const line = document.createElementNS(svgNS, "line");
      line.setAttribute("x1", 0);
      line.setAttribute("x2", width);
      line.setAttribute("y1", y);
      line.setAttribute("y2", y);
      line.setAttribute("stroke", "var(--line)");
      svg.appendChild(line);
    });

    data.forEach((project, i) => {
      const barHeight = (project.xp / maxValue) * (height - padding * 2);
      const rect = document.createElementNS(svgNS, "rect");
      rect.setAttribute("x", padding + i * (barWidth +10));
      rect.setAttribute("y", height - padding - barHeight);
      rect.setAttribute("width", barWidth);
      rect.setAttribute("height", barHeight);
      rect.setAttribute("rx", 8);
      rect.setAttribute("fill", "var(--chart-1)");
      rect.style.cursor = "pointer";
      rect.addEventListener("mouseenter", (e) => {
        tooltip.textContent = `${project.project}: ${project.xp}`;
        tooltip.style.opacity = "1";
      });
      rect.addEventListener("mousemove", (e) => {
        tooltip.style.left = e.clientX + "px";
        tooltip.style.top = e.clientY - 10 + "px";
      });
      rect.addEventListener("mouseleave", () => {
        tooltip.style.opacity = "0";
      });
      svg.appendChild(rect);
    });

    data.forEach((d, i) => {
      const text = document.createElementNS(svgNS, "text");
      text.textContent = d.project.slice(0, 3);
      text.setAttribute(
        "x",
        padding + i * (barWidth + 10) + barWidth / 2
      );
      text.setAttribute("y", height - padding + 20);
      text.setAttribute("text-anchor", "middle");
      text.setAttribute("font-size", "12");
      text.setAttribute("fill", "var(--text-muted)");
      svg.appendChild(text);
    });
    document.getElementById("chart-container").appendChild(svg);
  </script>
  <script>
    const radialData = {
      succeeded: 12,
      failed: 8,
      ratio: 0.7,
    };
    const auditRatioCount = radialData.succeeded + radialData.failed;

    const size = 200;
    const center = size / 2;

    const strokeWidth = 25;
    const outerRadius = (size / 2) - (strokeWidth / 2);
    const innerRadius = outerRadius - strokeWidth;

    const svg2 = document.createElementNS(svgNS, "svg");

    svg2.setAttribute("viewBox", `0 0 ${size} ${size}`);
    svg2.style.width = "100%";
    svg2.style.height = "100%";
    svg2.style.display = "block";
    svg2.style.margin = "0 auto";

    function arcPath(startAngle, endAngle, radius) {
      const sx = Math.round(center + radius * Math.cos(startAngle));
      const sy = Math.round(center * 1.25 - radius * Math.sin(startAngle));
      const ex = Math.round(center + radius * Math.cos(endAngle));
      const ey = Math.round(center * 1.25 - radius * Math.sin(endAngle));

      return `M ${sx} ${sy} A ${radius} ${radius} 0 0 1 ${ex} ${ey}`;
    }

    const start = Math.PI;
    const end = 0;

    const succeededAngle = start + (end - start) * (radialData.succeeded / auditRatioCount);
    const failedAngle = succeededAngle + (end - start) * (radialData.failed / auditRatioCount);

    const succeeded = document.createElementNS(svgNS, "path");
    succeeded.setAttribute("d", arcPath(start, succeededAngle, outerRadius - 20));
    succeeded.setAttribute("stroke", "var(--chart-succeeded)");
    succeeded.setAttribute("stroke-width", strokeWidth);
    succeeded.setAttribute("stroke-linecap", "round");
    succeeded.setAttribute("fill", "none");
    svg2.appendChild(succeeded);

    const failed = document.createElementNS(svgNS, "path");
    failed.setAttribute("d", arcPath(succeededAngle, end, outerRadius - 20));
    failed.setAttribute("stroke", "var(--chart-failed)");
    failed.setAttribute("stroke-width", strokeWidth);
    failed.setAttribute("stroke-linecap", "round");
    failed.setAttribute("fill", "none");
    svg2.appendChild(failed);

    const auditRatio = document.createElementNS(svgNS, "text");
    auditRatio.setAttribute("x", center);
    auditRatio.setAttribute("y", center * 1.25 - 5);
    auditRatio.setAttribute("text-anchor", "middle");
    auditRatio.setAttribute("font-size", "18");
    auditRatio.setAttribute("font-weight", "bold");
    auditRatio.setAttribute("fill", "var(--text)");
    auditRatio.textContent = radialData.ratio.toLocaleString();
    svg2.appendChild(auditRatio);

    const label = document.createElementNS(svgNS, "text");
    label.setAttribute("x", center);
    label.setAttribute("y", center * 1.25 + 8);
    label.setAttribute("text-anchor", "middle");
    label.setAttribute("font-size", "8");
    label.setAttribute("fill", "var(--text-muted)");
    label.textContent = "Audit Ratio";
    svg2.appendChild(label);

    document.getElementById("radial-chart").appendChild(svg2);
  </script>


</body>

</html>